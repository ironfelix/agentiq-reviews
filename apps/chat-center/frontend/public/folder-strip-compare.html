<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FolderStrip — V1 vs V2</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
<style>
:root {
    --color-bg-primary: #ffffff;
    --color-bg-secondary: #fafbfc;
    --color-bg-hover: #f5f6f7;
    --color-bg-active: #f0f7ff;
    --color-text-primary: #1a1a1a;
    --color-text-secondary: #5f6368;
    --color-text-tertiary: #9aa0a6;
    --color-border-light: #f5f6f7;
    --color-border-medium: #e8eaed;
    --color-accent: #1a73e8;
    --color-accent-light: #e8f0fe;
    --color-urgent: #ea4335;
    --color-success: #34a853;
    --radius-sm: 5px;
    --radius-md: 6px;
    --radius-lg: 8px;
    --radius-pill: 14px;
    --transition-fast: 0.12s ease;
}
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    background: var(--color-bg-secondary);
    color: var(--color-text-primary);
    height: 100vh;
    overflow: hidden;
    -webkit-font-smoothing: antialiased;
}

/* ===== VERSION SWITCHER ===== */
.version-switcher {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 46px;
    background: #1a1a1a;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    z-index: 100;
    padding: 0 16px;
}
.version-btn {
    padding: 6px 16px;
    border-radius: var(--radius-pill);
    border: 1px solid rgba(255,255,255,0.2);
    background: transparent;
    color: rgba(255,255,255,0.6);
    font-family: inherit;
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    transition: all var(--transition-fast);
}
.version-btn:hover { border-color: rgba(255,255,255,0.4); color: white; }
.version-btn.active { background: var(--color-accent); border-color: var(--color-accent); color: white; }
.version-label {
    color: rgba(255,255,255,0.4);
    font-size: 12px;
    margin-right: 8px;
}

/* ===== LAYOUT ===== */
.app-shell {
    display: flex;
    height: calc(100vh - 46px);
    margin-top: 46px;
    width: 100%;
}

/* ===== SIDEBAR ===== */
.sidebar {
    width: 220px;
    background: var(--color-bg-primary);
    border-right: 1px solid var(--color-border-medium);
    display: flex;
    flex-direction: column;
    padding: 20px 12px 16px;
    flex-shrink: 0;
    position: relative;
    transition: width 0.15s ease;
}
.sidebar-logo {
    font-size: 16px;
    font-weight: 700;
    padding: 0 8px;
    margin-bottom: 24px;
}
.sidebar-logo span { color: var(--color-accent); }
.sidebar-nav { display: flex; flex-direction: column; gap: 2px; flex: 1; }
.sidebar-bottom { margin-top: auto; display: flex; flex-direction: column; gap: 2px; padding-top: 8px; }
.sidebar-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 10px;
    border-radius: var(--radius-md);
    cursor: pointer;
    color: var(--color-text-secondary);
    background: transparent;
    border: none;
    font-family: inherit;
    font-size: 13px;
    font-weight: 500;
    width: 100%;
    text-align: left;
    transition: all var(--transition-fast);
}
.sidebar-item:hover { background: var(--color-bg-hover); color: var(--color-text-primary); }
.sidebar-item.active { background: var(--color-bg-active); color: var(--color-accent); }
.sidebar-item svg { width: 18px; height: 18px; flex-shrink: 0; }
.sidebar-item-label { flex: 1; }
.sidebar-badge {
    min-width: 18px; height: 18px; padding: 0 5px;
    background: var(--color-urgent); color: white;
    font-size: 10px; font-weight: 700; border-radius: var(--radius-pill);
    display: flex; align-items: center; justify-content: center;
}
.sidebar-collapse-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
    border: none;
    background: transparent;
    cursor: pointer;
    border-radius: var(--radius-sm);
    color: var(--color-text-tertiary);
    transition: all var(--transition-fast);
    position: absolute;
    top: 20px;
    right: 12px;
}
.sidebar-collapse-btn:hover { background: var(--color-bg-hover); color: var(--color-text-primary); }
.sidebar-collapse-btn svg { width: 16px; height: 16px; transition: transform 0.15s ease; }

/* Collapsed sidebar */
.sidebar.collapsed { width: 56px; padding: 16px 8px 12px; align-items: center; }
.sidebar.collapsed .sidebar-item-label { display: none; }
.sidebar.collapsed .sidebar-item { padding: 10px; justify-content: center; gap: 0; position: relative; }
.sidebar.collapsed .sidebar-logo { font-size: 0; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; margin-bottom: 20px; padding: 0; }
.sidebar.collapsed .sidebar-logo::before { content: 'AQ'; font-size: 13px; font-weight: 700; color: var(--color-accent); }
.sidebar.collapsed .sidebar-badge { position: absolute; top: 2px; right: 2px; min-width: 16px; height: 16px; font-size: 9px; padding: 0 4px; }
.sidebar.collapsed .sidebar-collapse-btn { position: static; margin: 0 auto 12px; }
.sidebar.collapsed .sidebar-collapse-btn svg { transform: rotate(180deg); }

/* ===== FOLDER STRIP ===== */
.folder-strip {
    width: 54px;
    background: var(--color-bg-primary);
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 0 0 8px;
    gap: 2px;
    flex-shrink: 0;
}
.folder-spacer { flex-shrink: 0; }
.folder-item {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 44px;
    height: 44px;
    border: none;
    background: transparent;
    cursor: pointer;
    border-radius: var(--radius-md);
    transition: all var(--transition-fast);
    color: var(--color-text-tertiary);
    padding: 0;
    font-family: inherit;
}
.folder-item:hover { background: var(--color-bg-hover); color: var(--color-text-secondary); }
.folder-item.active { background: var(--color-accent-light); color: var(--color-accent); }
.folder-item.active::before {
    content: '';
    position: absolute;
    left: -5px;
    top: 6px;
    bottom: 6px;
    width: 3px;
    background: var(--color-accent);
    border-radius: 0 2px 2px 0;
}
.folder-icon { display: flex; align-items: center; justify-content: center; }
.folder-icon svg { width: 20px; height: 20px; }
.folder-label { font-size: 9px; font-weight: 500; margin-top: 1px; line-height: 1; white-space: nowrap; }
.folder-badge {
    position: absolute;
    top: 2px; right: 0;
    min-width: 16px; height: 16px; padding: 0 4px;
    background: var(--color-urgent); color: white;
    font-size: 9px; font-weight: 700;
    border-radius: var(--radius-pill);
    display: flex; align-items: center; justify-content: center;
    line-height: 1;
}

/* V1: folders at top with border */
.v1 .folder-strip { border-right: 1px solid var(--color-border-light); padding-top: 12px; }
.v1 .folder-spacer { display: none; }
.v1 .chat-list { border-left: none; }

/* V2: folders aligned, no border, spacer visible */
.v2 .folder-strip { border-right: none; }
.v2 .chat-list { border-left: 1px solid var(--color-border-light); }

/* ===== CHAT LIST ===== */
.chat-list {
    width: 286px;
    background: var(--color-bg-primary);
    border-right: 1px solid var(--color-border-medium);
    display: flex;
    flex-direction: column;
    flex-shrink: 0;
    overflow: hidden;
}
.chat-list-header {
    padding: 16px 16px 12px;
    border-bottom: 1px solid var(--color-border-medium);
}
.chat-list-title {
    font-size: 17px;
    font-weight: 600;
    margin-bottom: 12px;
}
.search-box {
    width: 100%;
    padding: 8px 12px;
    border: 1px solid var(--color-border-medium);
    border-radius: var(--radius-md);
    font-size: 13px;
    font-family: inherit;
    outline: none;
    margin-bottom: 12px;
    background: var(--color-bg-primary);
    color: var(--color-text-primary);
}
.search-box:focus { border-color: var(--color-accent); }

/* Filter pills — NO visible scrollbar, swipe only */
.filters-scroll {
    display: flex;
    gap: 6px;
    overflow-x: auto;
    margin-bottom: 8px;
    -ms-overflow-style: none;
    scrollbar-width: none;
}
.filters-scroll::-webkit-scrollbar { display: none; }

.filter-pill {
    padding: 5px 10px;
    border-radius: var(--radius-pill);
    border: 1px solid var(--color-border-medium);
    background: var(--color-bg-primary);
    font-size: 12px;
    font-family: inherit;
    font-weight: 500;
    color: var(--color-text-secondary);
    cursor: pointer;
    white-space: nowrap;
    transition: all var(--transition-fast);
    flex-shrink: 0;
}
.filter-pill:hover { border-color: var(--color-accent); color: var(--color-accent); }
.filter-pill.active { background: var(--color-accent); color: #fff; border-color: var(--color-accent); }
.filter-pill .count { font-size: 10px; opacity: 0.7; margin-left: 2px; }

/* Mobile channel pills (hidden on desktop) */
.channel-filters-mobile { display: none; }

/* ===== CHAT ITEMS ===== */
.chat-list-content { flex: 1; overflow-y: auto; }
.chat-list-content::-webkit-scrollbar { width: 4px; }
.chat-list-content::-webkit-scrollbar-track { background: transparent; }
.chat-list-content::-webkit-scrollbar-thumb { background: var(--color-border-medium); border-radius: 2px; }

.queue-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 8px 16px;
    font-size: 11px;
    font-weight: 600;
    color: var(--color-text-tertiary);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}
.queue-count {
    font-size: 10px;
    background: var(--color-bg-hover);
    padding: 1px 6px;
    border-radius: var(--radius-pill);
}
.chat-item {
    display: flex;
    gap: 10px;
    padding: 10px 16px;
    cursor: pointer;
    transition: background var(--transition-fast);
    border-bottom: 1px solid var(--color-border-light);
}
.chat-item:hover { background: var(--color-bg-hover); }
.chat-item.active { background: var(--color-bg-active); }
.marketplace-icon {
    width: 32px; height: 32px;
    border-radius: var(--radius-sm);
    background: #cb11ab; color: white;
    display: flex; align-items: center; justify-content: center;
    font-size: 13px; font-weight: 700; flex-shrink: 0;
}
.chat-item-content { flex: 1; min-width: 0; }
.chat-item-header { display: flex; align-items: center; gap: 6px; margin-bottom: 2px; }
.chat-item-name { font-size: 13px; font-weight: 600; flex: 1; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.chat-item-time { font-size: 11px; color: var(--color-text-tertiary); flex-shrink: 0; }
.unread-badge {
    min-width: 16px; height: 16px; padding: 0 4px;
    background: var(--color-accent); color: white;
    font-size: 10px; font-weight: 700; border-radius: var(--radius-pill);
    display: flex; align-items: center; justify-content: center;
}
.chat-item-meta { font-size: 11px; color: var(--color-text-tertiary); margin-bottom: 2px; }
.status-dot {
    display: inline-block;
    width: 6px; height: 6px;
    border-radius: 50%;
    margin-right: 4px;
    vertical-align: middle;
}
.status-dot.waiting { background: #f9ab00; }
.status-dot.risk { background: var(--color-urgent); }
.status-dot.responded { background: var(--color-success); }
.chat-item-preview {
    font-size: 12px;
    color: var(--color-text-secondary);
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* Right panel */
.chat-window-placeholder {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--color-text-tertiary);
    font-size: 14px;
    background: var(--color-bg-secondary);
}

/* ===== MOBILE ===== */
@media (max-width: 768px) {
    .sidebar { display: none; }
    .folder-strip { display: none; }
    .chat-window-placeholder { display: none; }
    .channel-filters-mobile { display: block; margin-top: -4px; margin-bottom: 4px; }

    .chat-list {
        width: 100%;
        border: none;
        height: calc(100vh - 46px);
    }
    .chat-list-header { padding: 12px 16px; }
    .chat-list-title { font-size: 20px; }
    .chat-item { padding: 12px 16px; }
    .marketplace-icon { width: 36px; height: 36px; font-size: 14px; }
    .chat-item-name { font-size: 14px; }
    .chat-item-preview { font-size: 13px; }
    .filter-pill { padding: 6px 12px; font-size: 13px; }
    .version-switcher { height: 40px; }
    .app-shell { margin-top: 40px; height: calc(100vh - 40px); }
}

/* Tablet */
@media (min-width: 769px) and (max-width: 1024px) {
    .folder-strip { width: 48px; }
    .folder-item { width: 40px; height: 40px; }
    .folder-icon svg { width: 18px; height: 18px; }
    .folder-label { font-size: 8px; }
    .chat-list { width: 272px; }
}
</style>
</head>
<body>

<!-- Version switcher -->
<div class="version-switcher">
    <span class="version-label">Сравнение:</span>
    <button class="version-btn active" onclick="setVersion('v1')">V1 — Папки сверху</button>
    <button class="version-btn" onclick="setVersion('v2')">V2 — Папки у контента</button>
</div>

<div class="app-shell v1" id="appShell">

<!-- Sidebar -->
<nav class="sidebar" id="sidebar">
    <div class="sidebar-logo">AGENT<span>IQ</span></div>
    <button class="sidebar-collapse-btn" onclick="toggleSidebar()" title="Свернуть">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="11 17 6 12 11 7"/>
            <polyline points="18 17 13 12 18 7"/>
        </svg>
    </button>
    <div class="sidebar-nav">
        <button class="sidebar-item active">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
            <span class="sidebar-item-label">Сообщения</span>
            <div class="sidebar-badge">12</div>
        </button>
        <button class="sidebar-item">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>
            <span class="sidebar-item-label">Аналитика</span>
        </button>
    </div>
    <div class="sidebar-bottom">
        <button class="sidebar-item">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>
            <span class="sidebar-item-label">Настройки</span>
        </button>
        <button class="sidebar-item">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
            <span class="sidebar-item-label">Выйти</span>
        </button>
    </div>
</nav>

<!-- Folder Strip -->
<nav class="folder-strip" id="folderStrip">
    <div class="folder-spacer" id="folderSpacer"></div>
    <button class="folder-item active" onclick="switchFolder(this)">
        <div class="folder-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
        </div>
        <span class="folder-label">Все</span>
        <span class="folder-badge">12</span>
    </button>
    <button class="folder-item" onclick="switchFolder(this)">
        <div class="folder-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
        </div>
        <span class="folder-label">Отзывы</span>
        <span class="folder-badge">5</span>
    </button>
    <button class="folder-item" onclick="switchFolder(this)">
        <div class="folder-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
        </div>
        <span class="folder-label">Вопросы</span>
        <span class="folder-badge">4</span>
    </button>
    <button class="folder-item" onclick="switchFolder(this)">
        <div class="folder-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/></svg>
        </div>
        <span class="folder-label">Чаты</span>
        <span class="folder-badge">3</span>
    </button>
</nav>

<!-- Chat List -->
<section class="chat-list">
    <div class="chat-list-header" id="chatListHeader">
        <div class="chat-list-title">Сообщения</div>
        <input type="text" class="search-box" placeholder="Поиск...">
        <div class="filters-scroll">
            <button class="filter-pill active" onclick="switchPill(this)">Все <span class="count">48</span></button>
            <button class="filter-pill" onclick="switchPill(this)">Срочно <span class="count">3</span></button>
            <button class="filter-pill" onclick="switchPill(this)">Без ответа <span class="count">12</span></button>
            <button class="filter-pill" onclick="switchPill(this)">Обработаны <span class="count">33</span></button>
        </div>
        <!-- Mobile-only channel pills -->
        <div class="channel-filters-mobile">
            <div class="filters-scroll">
                <button class="filter-pill active" onclick="switchMobileChannel(this)">Все <span class="count">48</span></button>
                <button class="filter-pill" onclick="switchMobileChannel(this)">Отзывы <span class="count">22</span></button>
                <button class="filter-pill" onclick="switchMobileChannel(this)">Вопросы <span class="count">15</span></button>
                <button class="filter-pill" onclick="switchMobileChannel(this)">Чаты <span class="count">11</span></button>
            </div>
        </div>
    </div>
    <div class="chat-list-content">
        <div>
            <div class="queue-header"><span>В работе</span><span class="queue-count">2</span></div>
            <div class="chat-item active">
                <div class="marketplace-icon">W</div>
                <div class="chat-item-content">
                    <div class="chat-item-header">
                        <span class="chat-item-name">Алексей М.</span>
                        <span class="unread-badge">1</span>
                        <span class="chat-item-time">14:32</span>
                    </div>
                    <div class="chat-item-meta"><span class="status-dot waiting risk"></span>Отзыв · SLA просрочен</div>
                    <div class="chat-item-preview">Товар пришёл с дефектом, экран не работает</div>
                </div>
            </div>
            <div class="chat-item">
                <div class="marketplace-icon">W</div>
                <div class="chat-item-content">
                    <div class="chat-item-header">
                        <span class="chat-item-name">Ольга К.</span>
                        <span class="unread-badge">1</span>
                        <span class="chat-item-time">13:15</span>
                    </div>
                    <div class="chat-item-meta"><span class="status-dot waiting risk"></span>Вопрос · Ожидает ответа</div>
                    <div class="chat-item-preview">Подскажите, есть ли размер 42?</div>
                </div>
            </div>
        </div>
        <div>
            <div class="queue-header"><span>Ожидают ответа</span><span class="queue-count">3</span></div>
            <div class="chat-item">
                <div class="marketplace-icon">W</div>
                <div class="chat-item-content">
                    <div class="chat-item-header">
                        <span class="chat-item-name">Дмитрий В.</span>
                        <span class="unread-badge">1</span>
                        <span class="chat-item-time">12:44</span>
                    </div>
                    <div class="chat-item-meta"><span class="status-dot waiting"></span>Чат · Ожидает ответа</div>
                    <div class="chat-item-preview">Здравствуйте, когда будет доставка?</div>
                </div>
            </div>
            <div class="chat-item">
                <div class="marketplace-icon">W</div>
                <div class="chat-item-content">
                    <div class="chat-item-header">
                        <span class="chat-item-name">Мария С.</span>
                        <span class="chat-item-time">11:20</span>
                    </div>
                    <div class="chat-item-meta"><span class="status-dot waiting"></span>Отзыв · Ожидает ответа</div>
                    <div class="chat-item-preview">Отличное качество, но упаковка помята</div>
                </div>
            </div>
            <div class="chat-item">
                <div class="marketplace-icon">W</div>
                <div class="chat-item-content">
                    <div class="chat-item-header">
                        <span class="chat-item-name">Иван П.</span>
                        <span class="chat-item-time">вчера</span>
                    </div>
                    <div class="chat-item-meta"><span class="status-dot waiting"></span>Вопрос · Ожидает ответа</div>
                    <div class="chat-item-preview">Совместим ли с iPhone 15?</div>
                </div>
            </div>
        </div>
        <div>
            <div class="queue-header"><span>Все сообщения</span><span class="queue-count">2</span></div>
            <div class="chat-item">
                <div class="marketplace-icon">W</div>
                <div class="chat-item-content">
                    <div class="chat-item-header">
                        <span class="chat-item-name">Елена Т.</span>
                        <span class="chat-item-time">вчера</span>
                    </div>
                    <div class="chat-item-meta"><span class="status-dot responded"></span>Отзыв · Отвечено</div>
                    <div class="chat-item-preview">Всё супер, рекомендую!</div>
                </div>
            </div>
            <div class="chat-item">
                <div class="marketplace-icon">W</div>
                <div class="chat-item-content">
                    <div class="chat-item-header">
                        <span class="chat-item-name">Сергей Н.</span>
                        <span class="chat-item-time">12.02</span>
                    </div>
                    <div class="chat-item-meta"><span class="status-dot responded"></span>Чат · Отвечено</div>
                    <div class="chat-item-preview">Спасибо за быстрый ответ!</div>
                </div>
            </div>
        </div>
    </div>
</section>

<div class="chat-window-placeholder">Выберите чат для просмотра</div>
</div>

<script>
function setVersion(v) {
    const shell = document.getElementById('appShell');
    shell.classList.remove('v1', 'v2');
    shell.classList.add(v);
    document.querySelectorAll('.version-btn').forEach(b => b.classList.remove('active'));
    document.querySelector(`.version-btn[onclick="setVersion('${v}')"]`).classList.add('active');
    alignSpacer();
}
function toggleSidebar() {
    document.getElementById('sidebar').classList.toggle('collapsed');
}
function switchFolder(el) {
    document.querySelectorAll('.folder-item').forEach(f => f.classList.remove('active'));
    el.classList.add('active');
}
function switchPill(el) {
    el.parentElement.querySelectorAll('.filter-pill').forEach(p => p.classList.remove('active'));
    el.classList.add('active');
}
function switchMobileChannel(el) {
    el.parentElement.querySelectorAll('.filter-pill').forEach(p => p.classList.remove('active'));
    el.classList.add('active');
}
function alignSpacer() {
    const header = document.getElementById('chatListHeader');
    const spacer = document.getElementById('folderSpacer');
    if (header && spacer) {
        spacer.style.height = (header.offsetHeight + 1) + 'px';
    }
}
alignSpacer();
window.addEventListener('resize', alignSpacer);
</script>
</body>
</html>
