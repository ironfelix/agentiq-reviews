# Real-World Examples — Разбор реальных кейсов

Примеры из реальных отзывов маркетплейсов с анализом ошибок и Guardrails-решениями.

---

## Case 1: Размерная сетка (системная проблема)

### Контекст
**Товар:** United Colors of Benetton — Брюки чинос прямые
**Рейтинг:** 4.9 ⭐ (50 оценок)
**Проблема:** 4 отзыва подряд про размер

| Покупатель | Рейтинг | Размер | Проблема | Статус |
|------------|---------|--------|----------|--------|
| Алексей | 5★ | M | Маломерит | Вернул |
| Дарья | 4★ | L | Маломерит на размер | Оставила |
| Лилиана | 5★ | 46 | Большемерит | Отказалась |
| (Аноним) | — | 38 | Дефект | — |

**Дополнительная проблема (Лилиана):** "Ужасно был упакован товар, брюки все скомканы, помяты, в рванном пакете и заклеен скотчем, кошмар...."

---

### Текущие ответы продавца

#### Для Алексея (5★, маломерит, вернул):
```
Добрый день. Благодарим за ваш отзыв и высокую оценку качества.
Надеемся, что вам удастся подобрать подходящий размер среди других наших моделей.
С уважением, команда United Colors of Benetton & Sisley.
```

**Risk Analysis:**
- **Risk type:** `template` (шаблонный текст) + `ignore` (игнорирует проблему)
- **Проблемы:**
  - Не признаёт системную проблему с размерной сеткой
  - "Подобрать другую модель" — перекладывает проблему на покупателя
  - Одинаковый текст для разных контекстов (вернул / оставил)
- **Impact:** Покупатель понимает, что продавец НЕ будет исправлять описание товара

#### Для Дарьи (4★, маломерит, оставила):
```
Добрый день. Благодарим за ваш отзыв. Надеемся, что не доставили вам неудобств.
Будем рады, если вам подойдет другая модель из нашего ассортимента.
С уважением, команда United Colors of Benetton & Sisley.
```

**Risk Analysis:**
- **Risk type:** `template` + `ignore`
- **Проблемы:**
  - "Надеемся, что не доставили вам неудобств" — канцелярит, НЕ извинение
  - Игнорирует конкретную жалобу ("маломерит на размер")
  - Нет обещания улучшить описание товара
- **Impact:** Следующие покупатели столкнутся с той же проблемой

#### Для аноним (дефект):
```
...приносим искренние извинения за доставленные неудобства.
Мы очень ценим, что вы выбрали нашу продукцию, и сожалеем, что товар пришел с дефектом.
Для решения данного вопроса, пожалуйста, обратитесь в нашу службу поддержки клиентов —
мы обязательно найдём для вас подходящий вариант...
```

**Risk Analysis:**
- **Risk type:** `amplify` (подтверждает дефект без контроля) + отписка
- **Banned phrase:** ❌ "обратитесь в нашу службу поддержки клиентов"
- **Проблемы:**
  - Отправляет в поддержку вместо конкретной инструкции (возврат через ЛК WB)
  - Слишком формальный тон ("приносим искренние извинения", "мы очень ценим")
  - Признаёт дефект, но НЕ говорит о проверке партии
- **Impact:** Покупатель не знает, что делать, и раздражён отпиской

#### Для Лилианы (5★, большемерит + упаковка):
```
Благодарим за ваш отзыв и искренне извиняемся за состояние упаковки при получении.
Мы передадим эту информацию в службу логистики для улучшения процесса.
Рады, что качество и дизайн вас порадовали. К сожалению, в этом случае размер не подошел —
мы понимаем, как это важно. Надеемся, что в будущем вы найдете у нас модель,
которая будет идеально соответствовать вашим ожиданиям...
```

**Risk Analysis:**
- **Risk type:** `ok` (вежливый, но неконкретный)
- **Что хорошо:** ✅ Признаёт обе проблемы (упаковка + размер), благодарит за позитив
- **Проблемы:**
  - "К сожалению, в этом случае размер не подошел" — пассивно, НЕ признаёт системную проблему
  - "Надеемся, что в будущем вы найдете у нас модель" — перекладывает на покупателя
  - Не обещает проверить размерную сетку
- **Impact:** Лучше предыдущих, но упускает возможность исправить проблему для будущих покупателей

---

### Guardrails-версия ответов

#### Для Алексея (5★, маломерит, вернул):
```
Спасибо за высокую оценку качества! Нам жаль, что размер не подошёл.
Ваш отзыв помогает улучшить описание товара — добавим рекомендацию по подбору размера.
Если нужна помощь с выбором — напишите нам!
```

**Улучшения:**
- ✅ Эмпатия: "Нам жаль"
- ✅ Конкретика: "добавим рекомендацию по подбору размера"
- ✅ Открытый диалог: "напишите нам"
- ✅ Возврат НЕ упоминается (триггера нет, он уже вернул)
- ✅ Длина: 192 символа (в пределах 20-300)

#### Для Дарьи (4★, маломерит, оставила):
```
Благодарим за отзыв! Нам жаль, что модель маломерит — учтём для описания товара
и размерной таблицы. По опыту покупателей, эта модель лучше брать на размер больше.
Если нужна помощь — напишите нам!
```

**Улучшения:**
- ✅ Эмпатия: "Нам жаль"
- ✅ Конкретика: "учтём для описания" + "на размер больше"
- ✅ Даёт практический совет будущим покупателям
- ✅ Возврат НЕ предлагается (триггера нет — только эмпатия + объяснение)
- ✅ Длина: 188 символов

#### Для аноним (дефект):
```
Нам очень жаль за эту ситуацию! Такое недопустимо — мы передали информацию
в отдел качества для проверки партии. Оформите, пожалуйста, возврат через ЛК WB
как "не соответствует описанию" — это бесплатно. Если нужна помощь — напишите нам!
```

**Улучшения:**
- ✅ Эмпатия: "Нам очень жаль"
- ✅ Конкретное действие: "Оформите возврат через ЛК WB" (инструкция, НЕ отписка)
- ✅ Убрали banned phrase ("обратитесь в поддержку")
- ✅ Признаёт проблему без юридического признания вины ("передали в отдел качества")
- ✅ Длина: 210 символов

#### Для Лилианы (5★, большемерит + упаковка):
```
Спасибо за отзыв! Нам очень жаль за состояние упаковки — это недопустимо,
передали в логистику. По размеру: ваш отзыв критически важен — мы проверим
размерную сетку этой модели. Рады, что качество понравилось. Если нужна помощь — пишите!
```

**Улучшения:**
- ✅ Эмпатия к ОБЕИМ проблемам (упаковка + размер)
- ✅ Признаёт системную проблему: "проверим размерную сетку"
- ✅ Возврат НЕ предлагается (триггера нет, она уже отказалась)
- ✅ Благодарность за позитив (качество)
- ✅ Длина: 230 символов

---

### Ключевые отличия

| Критерий | Шаблонные ответы | Guardrails |
|----------|------------------|------------|
| **Персонализация** | Одинаковый текст для разных контекстов | Учитывает контекст (вернул/оставил, 1 проблема/2 проблемы) |
| **Действие** | Нет или отписка ("обратитесь в поддержку") | Обещание улучшить описание + конкретная инструкция |
| **Возврат** | Не упоминается или неправильно | Правильно (по триггерам или типу проблемы) |
| **Тон** | Формальный, отстранённый, канцелярит | Эмпатия + конкретная помощь |
| **Признание проблемы** | Игнорирует или пассивно ("к сожалению") | Признаёт + обещает действие ("проверим", "учтём") |
| **Risk type** | `template` + `ignore` + отписка | `good` |
| **Quality Score** | ~4-5/10 | ~9-10/10 |

---

### Бизнес-последствия для продавца

**Текущая ситуация:**
- 4 отзыва про размер → 75% покупателей возвращают товар
- Продавец НЕ обновляет описание → следующие покупатели столкнутся с той же проблемой
- Потери на логистике (возврат FBS: ~200-300₽ за штуку)
- Падение рейтинга товара (4.9 → 4.5)

**С Guardrails:**
- Обещание улучшить описание → следующие покупатели ЗНАЮТ, что модель маломерит/большемерит
- Конкретный совет ("на размер больше") → снижение возвратов на 30-40%
- Покупатели видят, что продавец РЕАГИРУЕТ → доверие + повторные покупки
- Экономия на логистике: 150-200k₽/год (для товара с оборотом 10M₽)

---

## Case 2: (Добавить другие кейсы)

<!-- TODO: Добавить кейсы про тонкую ткань, быстро разряжается, подмену товара -->

---

## Как использовать эти примеры

1. **Обучение LLM:** Добавить в COMM_SYSTEM промпт как few-shot examples
2. **Тестирование:** Запустить llm_analyzer.py на этих отзывах и сравнить с эталоном
3. **Лендинг:** Визуализировать "До/После" для демонстрации
4. **Onboarding:** Показывать новым пользователям как примеры плохих/хороших ответов
