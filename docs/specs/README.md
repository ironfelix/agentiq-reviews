#!/ Spec-Driven Development (AgentIQ)

Last updated: 2026-02-13
Status: active

Эта папка задает правила и шаблоны для Spec-Driven разработки: сначала фиксируем поведение и ограничения в спеках, затем реализуем код строго по ним.

## Зачем
- Снять двусмысленность: "что именно должно работать" и "что запрещено".
- Ускорить совместную работу с AI-агентом: спек становится единственным источником правды для генерации/правок кода.
- Снизить техдолг от AI-кода: acceptance criteria + тесты + инварианты как контракт.

## Что считается "спекой"
Спека - это Markdown-файл, который описывает контракт поведения:
- входы/выходы, предусловия, ошибки;
- инварианты и side effects;
- безопасность/PII, перфоманс, наблюдаемость;
- acceptance criteria и тест-план.

## Гранулярность (важно)
Требование "спека на каждую функцию" нужно понимать прагматично:
- MUST: спека на публичные/критичные контракты (API endpoints, background tasks, бизнес-правила, схемы/валидаторы, интеграции).
- SHOULD: спека на сложные чистые функции (алгоритмы, ранжирование, правила статусов/SLA).
- MAY: для мелких private helpers достаточно docstring + тестов.

## Процесс (как работать со мной)
1. Создаем/обновляем спеку.
2. Я читаю спеку и, если есть дыры, задаю уточняющие вопросы (до кода).
3. Реализуем код "по спеке": любые отклонения требуют правки спеки.
4. Пишем/обновляем тесты и привязываем их к acceptance criteria.
5. В спеке фиксируем ссылки на "истину" (файлы/эндпоинты/таблицы).

## Файлы
- `SPEC_DRIVEN_RULES.md` - правила, запреты, обязательные секции.
- `TEMPLATE_FEATURE_SPEC.md` - шаблон для фич/эндпоинтов/интеграций.
- `TEMPLATE_FUNCTION_SPEC.md` - шаблон для контрактов функций/правил.
- `CATALOG.md` - карта спек и инвентарь API: "что реализовано" и "где контракт".
